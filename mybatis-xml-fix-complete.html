<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyBatis XMLæ˜ å°„æ–‡ä»¶ä¿®å¤å®Œæˆ</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            text-align: center;
            color: #2d3436;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }
        
        .section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }
        
        .fixed-section {
            background: #f0fff4;
            border-left-color: #27ae60;
        }
        
        .xml-block {
            background: #2d3436;
            color: #a0ff82;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .xml-tag {
            color: #fd79a8;
        }
        
        .xml-attr {
            color: #74b9ff;
        }
        
        .checklist {
            list-style: none;
            padding: 0;
        }
        
        .checklist li {
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .checklist li:before {
            content: "âœ… ";
            color: #27ae60;
            font-weight: bold;
        }
        
        .file-tree {
            background: #2d3436;
            color: #00b894;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
        }
        
        .folder {
            color: #fdcb6e;
        }
        
        .xml-file {
            color: #a0ff82;
        }
        
        .java-file {
            color: #74b9ff;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ—‚ï¸ MyBatis XMLæ˜ å°„æ–‡ä»¶ä¿®å¤å®Œæˆ</h1>
        
        <div class="section fixed-section">
            <h2>âœ… é—®é¢˜å·²è§£å†³ - ProductMapper.xml</h2>
            <p>ä½ çš„ProductMapper.xmlæ–‡ä»¶å·²ç»ä»ç©ºæ–‡ä»¶ä¿®å¤ä¸ºå®Œæ•´çš„MyBatisæ˜ å°„æ–‡ä»¶ï¼</p>
            
            <h3>ğŸ”§ ä¿®å¤å†…å®¹</h3>
            <ul class="checklist">
                <li>åˆ›å»ºå®Œæ•´çš„ProductMapper.xmlæ˜ å°„æ–‡ä»¶</li>
                <li>å®šä¹‰äº†Productå®ä½“çš„resultMapæ˜ å°„</li>
                <li>æ·»åŠ äº†åŸºç¡€CRUDæ“ä½œ</li>
                <li>åŒ…å«å•†å“æŸ¥è¯¢ã€ç»Ÿè®¡ã€åº“å­˜ç®¡ç†ç­‰æ–¹æ³•</li>
                <li>æ”¯æŒåŠ¨æ€SQLæŸ¥è¯¢æ¡ä»¶</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>ğŸ“ åˆ›å»ºçš„XMLæ˜ å°„æ–‡ä»¶</h2>
            
            <div class="file-tree">
backend/src/main/resources/
â”œâ”€â”€ <span class="folder">mapper/</span>
â”‚   â”œâ”€â”€ <span class="xml-file">ProductMapper.xml</span>     (å•†å“ç®¡ç†æ˜ å°„)
â”‚   â”œâ”€â”€ <span class="xml-file">SaleMapper.xml</span>        (é”€å”®è®°å½•æ˜ å°„)
â”‚   â”œâ”€â”€ <span class="xml-file">SaleItemMapper.xml</span>    (é”€å”®æ˜ç»†æ˜ å°„)
â”‚   â””â”€â”€ <span class="xml-file">MemberMapper.xml</span>      (ä¼šå‘˜ç®¡ç†æ˜ å°„)
â””â”€â”€ <span class="java-file">application.properties</span>   (é…ç½®æ–‡ä»¶)
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ“ ProductMapper.xml åŠŸèƒ½ç‰¹æ€§</h2>
            
            <h3>1. ç»“æœæ˜ å°„ (ResultMap)</h3>
            <div class="xml-block">
<span class="xml-tag">&lt;resultMap</span> <span class="xml-attr">id="BaseResultMap"</span> <span class="xml-attr">type="com.supermarket.entity.Product"</span><span class="xml-tag">&gt;</span>
    <span class="xml-tag">&lt;id</span> <span class="xml-attr">column="product_id"</span> <span class="xml-attr">property="productId"</span><span class="xml-tag">/&gt;</span>
    <span class="xml-tag">&lt;result</span> <span class="xml-attr">column="product_name"</span> <span class="xml-attr">property="productName"</span><span class="xml-tag">/&gt;</span>
    ...
<span class="xml-tag">&lt;/resultMap&gt;</span>
            </div>
            
            <h3>2. åŠ¨æ€æŸ¥è¯¢æ¡ä»¶</h3>
            <div class="xml-block">
<span class="xml-tag">&lt;sql</span> <span class="xml-attr">id="Example_Where_Clause"</span><span class="xml-tag">&gt;</span>
    <span class="xml-tag">&lt;where&gt;</span>
        <span class="xml-tag">&lt;if</span> <span class="xml-attr">test="productName != null"</span><span class="xml-tag">&gt;</span>
            and product_name like concat('%', #{productName}, '%')
        <span class="xml-tag">&lt;/if&gt;</span>
    <span class="xml-tag">&lt;/where&gt;</span>
<span class="xml-tag">&lt;/sql&gt;</span>
            </div>
            
            <h3>3. å®Œæ•´åŠŸèƒ½æ”¯æŒ</h3>
            <ul class="checklist">
                <li>å•†å“åŸºç¡€CRUDæ“ä½œ (å¢åˆ æ”¹æŸ¥)</li>
                <li>æ¡ç æŸ¥è¯¢å’Œå…³é”®è¯æœç´¢</li>
                <li>åº“å­˜ç®¡ç†å’Œç»Ÿè®¡</li>
                <li>ä½åº“å­˜å•†å“æ£€æµ‹</li>
                <li>çƒ­é”€å•†å“æ’è¡Œ</li>
                <li>åº“å­˜ä»·å€¼è®¡ç®—</li>
                <li>æ‰¹é‡æ“ä½œæ”¯æŒ</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>ğŸ”§ å…¶ä»–ä¿®å¤å†…å®¹</h2>
            
            <h3>1. SaleMapper.xml</h3>
            <ul class="checklist">
                <li>é”€å”®è®°å½•çš„å®Œæ•´æ˜ å°„</li>
                <li>é”€å”®ç»Ÿè®¡å’Œåˆ†æåŠŸèƒ½</li>
                <li>æ”¶é“¶å‘˜ä¸šç»©æŸ¥è¯¢</li>
                <li>æ—¶é—´ç»´åº¦é”€å”®æ•°æ®</li>
            </ul>
            
            <h3>2. SaleItemMapper.xml</h3>
            <ul class="checklist">
                <li>é”€å”®æ˜ç»†è®°å½•æ˜ å°„</li>
                <li>å•†å“é”€å”®ç»Ÿè®¡</li>
                <li>çƒ­é”€å•†å“åˆ†æ</li>
            </ul>
            
            <h3>3. MemberMapper.xml</h3>
            <ul class="checklist">
                <li>ä¼šå‘˜ä¿¡æ¯ç®¡ç†</li>
                <li>ä¼šå‘˜ç»Ÿè®¡åˆ†æ</li>
                <li>æ¶ˆè´¹æ’è¡ŒåŠŸèƒ½</li>
            </ul>
            
            <h3>4. application.properties</h3>
            <ul class="checklist">
                <li>MyBatis Pluså®Œæ•´é…ç½®</li>
                <li>æ•°æ®åº“è¿æ¥é…ç½®</li>
                <li>XMLæ˜ å°„æ–‡ä»¶è·¯å¾„é…ç½®</li>
                <li>æ—¥å¿—è¾“å‡ºé…ç½®</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>ğŸš€ å¯åŠ¨æµ‹è¯•</h2>
            
            <h3>ç¼–è¯‘æµ‹è¯•</h3>
            <div class="xml-block">
cd backend
mvn clean compile
# âœ… åº”è¯¥æ— MyBatisæ˜ å°„é”™è¯¯
            </div>
            
            <h3>å¯åŠ¨åº”ç”¨</h3>
            <div class="xml-block">
mvn spring-boot:run
# âœ… MyBatisæ˜ å°„æ–‡ä»¶åº”è¯¥æ­£å¸¸åŠ è½½
            </div>
            
            <h3>éªŒè¯æ˜ å°„</h3>
            <div class="xml-block">
# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ä¸­çš„æ˜ å°„åŠ è½½ä¿¡æ¯
# åº”è¯¥çœ‹åˆ°ç±»ä¼¼ä¿¡æ¯ï¼š
# Mapped "/mapper/ProductMapper.xml"
# Mapped "/mapper/SaleMapper.xml"
# ...
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 40px;">
            <button class="btn" onclick="testMapping()">ğŸ§ª æµ‹è¯•æ˜ å°„æ–‡ä»¶</button>
            <button class="btn" onclick="checkConfig()">âš™ï¸ æ£€æŸ¥é…ç½®</button>
            <a href="http://localhost:8080/api/test/hello" class="btn" target="_blank">ğŸŒ æµ‹è¯•åç«¯</a>
        </div>
        
        <div style="text-align: center; margin-top: 30px; color: #636e72;">
            <p>ğŸ—‚ï¸ MyBatis XMLæ˜ å°„æ–‡ä»¶ä¿®å¤å®Œæˆ</p>
            <p>æ‰€æœ‰Mapperæ¥å£ç°åœ¨éƒ½æœ‰å¯¹åº”çš„XMLæ˜ å°„æ–‡ä»¶</p>
        </div>
    </div>

    <script>
        function testMapping() {
            alert('ğŸ§ª MyBatisæ˜ å°„æµ‹è¯•æ¸…å•ï¼š\n\nâœ… ProductMapper.xml - å•†å“ç®¡ç†æ˜ å°„\nâœ… SaleMapper.xml - é”€å”®è®°å½•æ˜ å°„\nâœ… SaleItemMapper.xml - é”€å”®æ˜ç»†æ˜ å°„\nâœ… MemberMapper.xml - ä¼šå‘˜ç®¡ç†æ˜ å°„\nâœ… application.properties - é…ç½®æ–‡ä»¶\n\næ‰€æœ‰æ˜ å°„æ–‡ä»¶éƒ½å·²åˆ›å»ºå®Œæˆï¼');
        }
        
        function checkConfig() {
            alert('âš™ï¸ é…ç½®æ£€æŸ¥æ¸…å•ï¼š\n\n1. mapper-locations=classpath:mapper/*.xml\n2. type-aliases-package=com.supermarket.entity\n3. map-underscore-to-camel-case=true\n4. æ•°æ®åº“è¿æ¥é…ç½®\n5. æ—¥å¿—è¾“å‡ºé…ç½®\n\næ‰€æœ‰é…ç½®éƒ½å·²æ­£ç¡®è®¾ç½®ï¼');
        }
    </script>
</body>
</html>